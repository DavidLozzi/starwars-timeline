{"version":3,"sources":["molecules/modal/index.styles.js","molecules/modal/index.js","organisms/CharacterDetail/index.styles.js","organisms/CharacterDetail/index.js","pages/Home/index.styles.js","pages/Home/index.js","App.js","reportWebVitals.js","index.js"],"names":["Wrapper","styled","div","Modal","children","onClickBg","onClickModal","onClick","e","stopPropagation","Close","Header","Image","img","H1","h1","H2","h2","Body","Note","Description","MetadataWrapper","Metadata","MetadataLabel","MetadataValue","Wookiepedia","a","CharacterDetail","character","onClose","convertYear","year","imageUrl","src","alt","title","altTitle","startYear","endYear","description","parse","metadata","length","map","m","name","value","wookiepedia","href","target","Era","era","rest","yearIndex","years","background","Sticky","EraLabel","Year","gridWidth","Movie","movie","index","Character","SeenIn","seen","seenInYear","seenInEvent","AltTitle","count","window","scrolling","addEventListener","Home","React","setYears","characters","setCharacters","seenIn","setSeenIn","currentYearIndex","setCurrentYearIndex","currentYear","setCurrentYear","showModal","setShowModal","modalContents","setModalContents","zoomLevel","sortOrder","type","sort","sortByYear","b","aSorter","find","s","bSorter","_newYears","_startYear","data","_endYear","i","display","events","filter","startYearDisplay","endYearDisplay","push","eventCount","_characters","y","_seenIn","forEach","c","some","setInterval","pxToRem","scrollY","Math","round","scrollToY","scrollToX","scrollTo","console","log","showCharacterModal","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd32a64a.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\n\nexport default {\n  Wrapper: styled.div`\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    top: 0rem;\n    left: 0rem;\n    z-index: 100;\n    background-color: rgba(100,100,100,0.8);\n    justify-content: center;\n    align-items: center;\n    display: flex;\n  `,\n  Modal: styled.div`\n    background-color: rgba(225,225,225,0.8);\n    width: 80vw;\n    min-height: 50vh;\n    max-height: 80vh;\n    border-radius: 15vw;\n    padding-bottom: 3vw;\n  `\n};","import React from 'react';\nimport Styled from './index.styles';\n\n\nconst Modal = ({children, onClickBg, onClickModal}) => {\n  return <Styled.Wrapper onClick={onClickBg}><Styled.Modal onClick={(e) => { e.stopPropagation(); onClickModal && onClickModal(); }}>{children}</Styled.Modal></Styled.Wrapper>;\n};\n\nexport default Modal;","import React from 'react';\nimport styled from 'styled-components';\n\nexport default {\n  Wrapper: styled.div`\n    width: 100%;\n  `,\n  Close: styled.div`\n    color: #fff;\n  `,\n  Header: styled.div`\n    width: 100%;\n    display: flex;\n  `,\n  Image: styled.img`\n    width: 30vw;\n    height: 30vw;\n    border-radius: 50% 0;\n\n    &:hover {\n      border-radius: 0;\n    }\n  `,\n  H1: styled.h1`\n    margin: 0;\n    font-size: 3vh;\n  `,\n  H2: styled.h2`\n    margin: 1vh 0;\n    font-size: 2vh;\n  `,\n  Body: styled.div`\n    display: flex;\n    flex-direction: column;\n    padding: 2vh;\n  `,\n  Note: styled.div`\n    font-size: 1.5vh;\n  `,\n  Description: styled.div`\n    font-size: 1.6vh;\n    margin: 2vh 0;\n  `,\n  MetadataWrapper: styled.div`\n    font-size: 1.6vh;\n    display: flex;\n    margin: 2vh 0;\n  `,\n  Metadata: styled.div`\n    min-width: 33%;\n  `,\n  MetadataLabel: styled.div`\n    font-weight: bold;\n  `,\n  MetadataValue: styled.div`\n  `,\n  Wookiepedia: styled.a`\n    font-size: 1.4vh;\n    display: inline-block;\n  `\n};","import React from 'react';\nimport Styled from './index.styles';\nimport parse from 'html-react-parser';\n\nconst CharacterDetail = ({ character, onClose }) => {\n  const convertYear = (year) => {\n    if (year <= 0) return `${year * -1} BBY`;\n    if (year > 0) return `${year} ABY`;\n    return 'none';\n  };\n\n  return <Styled.Wrapper>\n    <Styled.Header>\n      {character.imageUrl && <Styled.Image src={character.imageUrl} alt={character.title} />}\n      <Styled.Body>\n        <Styled.H1>{character.title}</Styled.H1>\n        <Styled.H2>{character.altTitle}</Styled.H2>\n        <Styled.Note>Born {convertYear(character.startYear)}, Died {convertYear(character.endYear)} ({character.endYear - character.startYear} years old)</Styled.Note>\n      </Styled.Body>\n      <Styled.Close onClick={onClose}>X</Styled.Close>\n    </Styled.Header>\n    <Styled.Body>\n      {character.description && <Styled.Description>{parse(character.description)}</Styled.Description>}\n      {character.metadata && character.metadata.length > 0 && \n        <Styled.MetadataWrapper>\n          {character.metadata.map(m => <Styled.Metadata key={m.name}>\n            <Styled.MetadataLabel>{m.name}</Styled.MetadataLabel>\n            <Styled.MetadataValue>{m.value}</Styled.MetadataValue>\n          </Styled.Metadata>)}\n        </Styled.MetadataWrapper>\n      }\n      {character.wookiepedia && <Styled.Wookiepedia href={character.wookiepedia} target=\"_blank\">Learn more on Wookiepedia.com</Styled.Wookiepedia>}\n    </Styled.Body>\n  </Styled.Wrapper>;\n}\n;\n\nexport default CharacterDetail;","import React from 'react';\nimport styled from 'styled-components';\n\nconst topMargin = 6;\nconst gridHeight = 2; //rem\nconst gridWidth = 2; //rem\nexport const Wrapper = styled.div`\n  width: 100vw;\n  display: flex;\n  flex-flow: column wrap;\n  margin: ${gridWidth}rem;\n`;\n\nexport const Era = styled(({ era, ...rest }) => <div {...rest} />)`\n  position: absolute;\n  top: ${({ era }) => gridHeight * era.yearIndex + topMargin}rem;\n  left: ${gridWidth}rem;\n  width: 200vw; // TODO calculate from # chars\n  height: ${({ era }) => gridHeight * era.years}rem;\n  border-top: solid 2px #fff;\n  background: ${({ era }) => era.background};\n  z-index: 1;\n`;\n\nexport const Sticky = styled.div`\n  position: sticky;\n  top: 0;\n  left: 0;\n  display: inline-block;\n`;\n\nexport const EraLabel = styled.div`\n  transform: rotate(-90deg);\n  width: 10rem;\n  position: relative;\n  top: 10rem;\n  left: 0rem;\n  transform-origin: top left;\n`;\n\nexport const Year = styled(({ year, ...rest }) => <div {...rest} />)`\n  width: 200vw; // TODO calculate from # chars\n  position: absolute;\n  border-top: solid 1px #eee;\n  left: ${gridWidth * 2}rem;\n  top: ${({ year }) => gridHeight * year.yearIndex + topMargin}rem;\n  z-index: 2;\n\n  ${Sticky} {\n    left: 1rem;\n  }\n`;\n\nexport const Movie = styled(({ movie, index, ...rest }) => <div {...rest} />)`\n  position: absolute;\n  top: ${({ movie, index }) => gridHeight * movie.yearIndex + topMargin + index}rem;\n  left: ${({ index }) => gridWidth * 4 + index}rem;\n  width: 200vw; // TODO calculate from # chars\n  height: ${({ movie }) => gridHeight * (movie.years + 1)}rem;\n  background-color: rgba(200,200,200,0.4);\n  z-index: 3;\n\n  ${Sticky} {\n    left: 5rem;\n  }\n`;\n\nexport const Character = styled(({ character, ...rest }) => <div {...rest} />)`\n  position: absolute;\n  top: ${({ character }) => gridHeight * character.yearIndex + topMargin}rem;\n  left: ${({ character }) => gridWidth * 8 + character.index * (gridWidth + .5) * 2}rem;\n  width: ${gridWidth * 2}rem;\n  height: ${({ character }) => gridHeight * (character.years + 1)}rem;\n  background: linear-gradient(rgba(200,200,0,0.5), rgba(200,200,0,0.7)) no-repeat center/8px 100%;\n  z-index: 4;\n  border-radius: 50%;\n\n  ${Sticky} {\n    z-index: 6;\n    top: 1rem;\n  }\n`;\n\nexport const CharacterDetail = styled(({ ...rest }) => <div {...rest} />)`\n  background-color: rgba(50,50,50,0.8);\n  border-radius: ${gridWidth}rem; //${gridWidth}rem ${gridWidth * 0.25}rem ${gridWidth * 0.25}rem;\n  font-size: .8rem;\n  color: #fff;\n  text-align: center;\n  min-height: 9rem;\n`;\n\nexport const SeenIn = styled(({ seen, ...rest }) => <div {...rest} />)`\n  position: absolute;\n  top: ${({ seen }) => gridHeight * seen.seenInYear.yearIndex + topMargin + seen.seenInEvent.index}rem;\n  left: ${({ seen }) => gridWidth * 8 + seen.character.index * (gridWidth + .5) * 2}rem;\n  z-index: 5;\n  width: ${gridWidth * 2}rem;\n  height: ${({ seen }) => gridWidth * seen.seenInEvent.years}rem;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n\n  div {\n    background-color: rgba(100,100,255,0.8);\n    border-radius: 50%;\n    border: 3px solid rgba(200,200,0,0.8);;\n    width: ${gridWidth * .75}rem;\n    height: ${gridWidth * .75}rem;\n    position: relative;\n    transition: all ease-in-out 200ms;\n\n    &:hover {\n      width: ${gridWidth}rem;\n      height: ${gridWidth}rem;\n      background-color: rgba(100,100,255,1);\n    }\n  }\n`;\n\nexport const Image = styled.img`\n  width: ${gridWidth * 2}rem;\n  height: ${gridWidth * 2}rem;\n  border-radius: 50%;\n`;\n\nexport const AltTitle = styled.div`\n  font-size: .7rem;\n  font-style: italic;\n`;\n\nexport const CrossEvent = styled.div`\n  margin-left: ${({ count }) => (count * 105) + 100}px;\n  background-color: rgba(100,255,255,0.3);\n  width: 100px;\n  position: absolute;\n  z-index: 30;\n`;","import * as React from 'react';\nimport Modal from '../../molecules/modal';\nimport CharacterDetail from '../../organisms/CharacterDetail';\nimport data from '../../data.json';\n\nimport * as Styled from './index.styles';\n\nwindow.scrolling = false;\naddEventListener('scroll', () => {\n  window.scrolling = true;\n});\n\nconst Home = () => {\n  const [years, setYears] = React.useState([]);\n  const [characters, setCharacters] = React.useState([]);\n  const [seenIn, setSeenIn] = React.useState([]);\n  const [currentYearIndex, setCurrentYearIndex] = React.useState(0);\n  const [currentYear, setCurrentYear] = React.useState(0);\n  const [showModal, setShowModal] = React.useState(false);\n  const [modalContents, setModalContents] = React.useState();\n\n  // zoom level, incremements of years to show\n  const [zoomLevel, setZoomLevel] = React.useState(1); \n\n  const sortOrder = [\n    { type: 'era', sort: 1},\n    { type: 'movie', sort: 2},\n    { type: 'tv', sort: 3 },\n    { type: 'character', sort: 4}\n  ];\n\n  const convertYear = (year) => {\n    if(year <= 0) return `${year * -1} BBY`;\n    if(year > 0) return `${year} ABY`;\n    return 'none';\n  };\n\n  const sortByYear = (a, b) => {\n    const aSorter = sortOrder.find(s => s.type === a.type).sort;\n    const bSorter = sortOrder.find(s => s.type === b.type).sort;\n    if (aSorter > bSorter) return 1;\n    if (aSorter < bSorter) return -1;\n    return 0;\n  };\n\n  const showCharacterModal = (character) => {\n    console.log(character);\n    setModalContents(<CharacterDetail character={character} onClose={() => setShowModal(false) }/>);\n    setShowModal(true);\n  };\n\n  // create 1 array of events\n  // set isSpanning, isStarting, isEnding (just in case)\n  // add index to have consistent column counts\n  // sort by era, movie, tv, book, event, character\n  // TODO create node script to generate this output so it's not realtime\n  React.useEffect(() => {\n    const _newYears = [...years];\n    const _startYear = data.sort((a, b) => a.startYear > b.startYear ? 1 : -1)[0].startYear;\n    const _endYear = data.sort((a, b) => a.endYear < b.endYear ? 1 : -1)[0].endYear;\n\n    let yearIndex = 0;\n    for(let i = _startYear - zoomLevel; i <= _endYear + zoomLevel; i++) {\n      const year = { year: i, display: convertYear(i) };\n      const events = data\n        .filter(e => (e.startYear === i && e.type !== 'character'))\n        .sort(sortByYear)\n        .map((e, i) => ({\n          ...e,\n          index: i,\n          yearIndex,\n          years: e.endYear - e.startYear,\n          startYearDisplay: convertYear(e.startYear),\n          endYearDisplay: convertYear(e.endYear)\n        }));\n      \n      _newYears.push({\n        ...year,\n        yearIndex,\n        events,\n        eventCount: events.length\n      });\n\n      yearIndex++;\n    }\n    setYears(_newYears);\n\n    const _characters = data\n      .filter(e => (e.type === 'character'))\n      .sort((a, b) => a.startYear > b.startYear ? 1 : -1)\n      .map((e, index) => ({\n        ...e,\n        index,\n        yearIndex: _newYears.filter(y => y.year === e.startYear)[0].yearIndex,\n        years: e.endYear - e.startYear,\n        startYearDisplay: convertYear(e.startYear),\n        endYearDisplay: convertYear(e.endYear)\n      }));\n    setCharacters(_characters);\n    \n    const _seenIn = [];\n    _characters\n      .forEach(c => {\n        if (c.seenIn && c.seenIn.length > 0) {\n          c.seenIn.forEach(seen => {\n            const seenInYear = _newYears.find(y => y.events.some(e => e.title === seen));\n            const seenInEvent = seenInYear.events.find(e => e.title === seen);\n            // console.log(seenInEvent);\n            _seenIn.push({\n              character: c,\n              seenInEvent,\n              seenInYear\n            });\n          });\n        }\n      });\n    setSeenIn(_seenIn);\n\n    setInterval(() => {\n      if (window.scrolling) {\n        window.scrolling = false;\n        const pxToRem = window.scrollY / 16;\n        // console.log(Math.round((pxToRem / 2)) - 6);\n        setCurrentYearIndex(Math.round(pxToRem / 2) - 2);\n      }\n    }, 300);\n\n  }, [data]);\n\n  React.useEffect(() => {\n    // console.log(years.find(y => y.yearIndex === currentYearIndex));\n    setCurrentYear(years.find(y => y.yearIndex === currentYearIndex));\n  }, [currentYearIndex]);\n\n  React.useEffect(() => {\n    if (years.length > 0 && characters.length > 0) {\n      const scrollToY = years.find(y => y.year === 0).yearIndex * 32;\n      const scrollToX = characters.find(c => c.title === \"Luke Skywalker\").index * 32 + 96;\n      window.scrollTo(scrollToX, scrollToY);\n    }\n  }, [seenIn]);\n\n  return (\n    <>\n      <h1>Interactive Star Wars Timeline</h1>\n      <Styled.Wrapper>\n        {\n          years\n            .filter(({year}) => year % zoomLevel === 0)\n            .map(year => {\n              return (\n                <React.Fragment\n                  key={year.display}\n                >\n                  <Styled.Year \n                    year={year}>\n                    <Styled.Sticky>\n                      {year.display}\n                    </Styled.Sticky>\n                  </Styled.Year>\n                  {year\n                    .events\n                    .filter(y => y.type === \"era\")\n                    .sort((a, b) => {\n                      if (a.index > b.index) return 1;\n                      if (a.index < b.index) return -1;\n                      return 0;\n                    })\n                    .map((era, index) => <Styled.Era\n                      era={era}\n                      key={era.title}\n                    >\n                      <Styled.EraLabel>\n                        {era.imageUrl && <Styled.Image src={era.imageUrl} alt={era.title} />}\n                        {era.title} {era.startYearDisplay} - {era.endYearDisplay}\n                        {era.altTitle && <Styled.AltTitle>{era.altTitle}</Styled.AltTitle>}\n                      </Styled.EraLabel>\n                    </Styled.Era>\n                    )}\n                  {year\n                    .events\n                    .filter(y => y.type === \"movie\" || y.type === \"tv\")\n                    .sort((a, b) => {\n                      if (a.index > b.index) return 1;\n                      if (a.index < b.index) return -1;\n                      return 0;\n                    })\n                    .map((movie, index) => <Styled.Movie\n                      movie={movie}\n                      index={index}\n                      key={movie.title}\n                    >\n                      <Styled.Sticky>\n                        {movie.imageUrl && <Styled.Image src={movie.imageUrl} alt={movie.title} />}\n                        {movie.title}\n                        {movie.altTitle && <Styled.AltTitle>{movie.altTitle}</Styled.AltTitle>}\n                      </Styled.Sticky>\n                    </Styled.Movie>\n                    )}\n                </React.Fragment>\n              );\n            }\n            )\n        }\n        {\n          characters\n            .map(character => <Styled.Character\n              character={character}\n              key={character.title}\n            >\n              <Styled.Sticky>\n                <Styled.CharacterDetail\n                  onClick={() => showCharacterModal(character)}\n                  // data-tip={`${convertYear(character.startYear)} - ${convertYear(character.endYear)}`}\n                >\n                  {character.imageUrl && <Styled.Image src={character.imageUrl} alt={character.title} />}\n                  {character.title}\n                  {currentYear && currentYear.year >= character.startYear && currentYear.year + 4 <= character.endYear && <Styled.AltTitle>{currentYear.year - character.startYear} yo</Styled.AltTitle>}\n                  {character.altTitle && <Styled.AltTitle>{character.altTitle}</Styled.AltTitle>}\n                </Styled.CharacterDetail>\n              </Styled.Sticky>\n            </Styled.Character>\n            )\n        }\n        {\n          seenIn\n            .map(seen => <Styled.SeenIn\n              seen={seen}\n              data-tip={`${seen.character.title} - ${seen.seenInEvent.title}`}\n              key={`${seen.character.title} - ${seen.seenInEvent.title}`}\n            >\n              <div />\n            </Styled.SeenIn>\n            )\n        }\n      </Styled.Wrapper>\n      {showModal && <Modal onClickBg={() => setShowModal(false)}>{modalContents}</Modal>}\n    </>\n  );\n};\n\nexport default Home;","import Home from './pages/Home';\n\nfunction App() {\n  return (\n    <Home />\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}